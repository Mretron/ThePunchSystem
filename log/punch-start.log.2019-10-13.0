2019-10-13 17:53:30.786  INFO 3648 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 3648 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 17:53:30.867 DEBUG 3648 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 17:53:30.869  INFO 3648 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 17:53:31.034  INFO 3648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 17:53:31.036  INFO 3648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 17:53:32.120  INFO 3648 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 17:53:32.147  INFO 3648 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2019-10-13 17:53:32.612  INFO 3648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$319bc71f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 17:53:33.125  INFO 3648 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 17:53:33.151  INFO 3648 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 17:53:33.151  INFO 3648 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 17:53:33.248  INFO 3648 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 17:53:33.248  INFO 3648 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2212 ms
2019-10-13 17:53:33.824  WARN 3648 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'indexController': Unsatisfied dependency expressed through field 'studentAndPunchRecordService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.yrmjhtdjxh.punch.service.StudentAndPunchRecordService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-10-13 17:53:33.826  INFO 3648 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-10-13 17:53:33.843  INFO 3648 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-10-13 17:53:33.953 ERROR 3648 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field studentAndPunchRecordService in com.yrmjhtdjxh.punch.web.IndexController required a bean of type 'com.yrmjhtdjxh.punch.service.StudentAndPunchRecordService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.yrmjhtdjxh.punch.service.StudentAndPunchRecordService' in your configuration.

2019-10-13 17:54:15.327  INFO 9344 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 9344 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 17:54:15.330 DEBUG 9344 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 17:54:15.330  INFO 9344 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 17:54:15.390  INFO 9344 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 17:54:15.391  INFO 9344 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 17:54:16.183  INFO 9344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 17:54:16.202  INFO 9344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-10-13 17:54:16.478  INFO 9344 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4a731dfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 17:54:16.928  INFO 9344 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 17:54:16.957  INFO 9344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 17:54:16.957  INFO 9344 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 17:54:17.062  INFO 9344 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 17:54:17.062  INFO 9344 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1670 ms
2019-10-13 17:54:18.151  INFO 9344 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 17:54:18.691  INFO 9344 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 17:54:18.745  INFO 9344 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 17:54:18.749  INFO 9344 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.117 seconds (JVM running for 5.188)
2019-10-13 17:54:49.577  INFO 9344 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 17:54:49.577  INFO 9344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 17:54:49.591  INFO 9344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 17:55:04.834  WARN 9344 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'studentID' is not present]
2019-10-13 17:56:04.230  INFO 9344 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@59e4014]}
2019-10-13 17:56:04.473  INFO 9344 --- [http-nio-8080-exec-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 17:56:04.478 DEBUG 9344 --- [http-nio-8080-exec-5] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 17:56:04.587 DEBUG 9344 --- [http-nio-8080-exec-5] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 17:56:04.610 DEBUG 9344 --- [http-nio-8080-exec-5] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 17:56:04.614  INFO 9344 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 17:56:36.236  INFO 6588 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 6588 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 17:56:36.239 DEBUG 6588 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 17:56:36.240  INFO 6588 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 17:56:36.328  INFO 6588 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 17:56:36.328  INFO 6588 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 17:56:37.116  INFO 6588 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 17:56:37.132  INFO 6588 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 17:56:37.478  INFO 6588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$62252309] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 17:56:37.919  INFO 6588 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 17:56:37.944  INFO 6588 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 17:56:37.945  INFO 6588 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 17:56:38.054  INFO 6588 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 17:56:38.054  INFO 6588 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1726 ms
2019-10-13 17:56:39.079  INFO 6588 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 17:56:39.545  INFO 6588 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 17:56:39.609  INFO 6588 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 17:56:39.614  INFO 6588 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.958 seconds (JVM running for 5.036)
2019-10-13 17:56:47.604  INFO 6588 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 17:56:47.604  INFO 6588 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 17:56:47.616  INFO 6588 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-10-13 17:56:47.648  INFO 6588 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@7c3d5dc8]}
2019-10-13 17:56:47.884  INFO 6588 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 17:56:47.890 DEBUG 6588 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 17:56:48.000 DEBUG 6588 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 17:56:48.027 DEBUG 6588 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 17:56:48.031  INFO 6588 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 17:57:02.481  WARN 6588 --- [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'studentID' is not present]
2019-10-13 17:57:19.961  INFO 6588 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@7c3d5dc8]}
2019-10-13 17:57:19.966 DEBUG 6588 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 17:57:19.969 DEBUG 6588 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 17:57:19.974 DEBUG 6588 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 17:57:19.977 DEBUG 6588 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 17:57:20.037 ERROR 6588 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:54)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$506c5375.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:02:10.266  INFO 10784 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 10784 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:02:10.268 DEBUG 10784 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:02:10.269  INFO 10784 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:02:10.374  INFO 10784 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:02:10.374  INFO 10784 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:02:11.183  INFO 10784 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:02:11.202  INFO 10784 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 18:02:11.536  INFO 10784 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f4033ac4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:02:11.987  INFO 10784 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:02:12.004  INFO 10784 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:02:12.004  INFO 10784 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:02:12.095  INFO 10784 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:02:12.096  INFO 10784 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1722 ms
2019-10-13 18:02:12.923  INFO 10784 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:02:13.274  INFO 10784 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:02:13.317  INFO 10784 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:02:13.320  INFO 10784 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.671 seconds (JVM running for 4.666)
2019-10-13 18:02:26.047  INFO 10784 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:02:26.047  INFO 10784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:02:26.062  INFO 10784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 18:02:26.094  INFO 10784 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@27f33d45]}
2019-10-13 18:02:26.271  INFO 10784 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:02:26.275 DEBUG 10784 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:02:26.369 DEBUG 10784 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:02:26.390 DEBUG 10784 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:02:26.393  INFO 10784 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:02:31.538  INFO 10784 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@27f33d45]}
2019-10-13 18:02:31.544 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:02:31.547 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:02:31.550 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:02:31.552 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:02:31.556 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:02:31.559 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:02:31.561 DEBUG 10784 --- [http-nio-8080-exec-2] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:02:31.608 ERROR 10784 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:56)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$502997a9.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:05:09.792  INFO 4500 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 4500 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:05:09.796 DEBUG 4500 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:05:09.797  INFO 4500 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:05:09.930  INFO 4500 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:05:09.930  INFO 4500 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:05:10.668  INFO 4500 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:05:10.684  INFO 4500 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.
2019-10-13 18:05:11.033  INFO 4500 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f2122fe1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:05:11.596  INFO 4500 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:05:11.629  INFO 4500 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:05:11.630  INFO 4500 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:05:11.733  INFO 4500 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:05:11.734  INFO 4500 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1803 ms
2019-10-13 18:05:12.662  INFO 4500 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:05:13.053  INFO 4500 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:05:13.115  INFO 4500 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:05:13.118  INFO 4500 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.148 seconds (JVM running for 5.536)
2019-10-13 18:05:15.139  INFO 4500 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:05:15.139  INFO 4500 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:05:15.151  INFO 4500 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-10-13 18:05:15.188  INFO 4500 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@425b16a]}
2019-10-13 18:05:15.407  INFO 4500 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:05:15.414 DEBUG 4500 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:05:15.522 DEBUG 4500 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:05:15.552 DEBUG 4500 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:05:15.560  INFO 4500 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:05:17.334  INFO 4500 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@425b16a]}
2019-10-13 18:05:17.336 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:05:17.338 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:05:17.343 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:05:17.345 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:05:17.353 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:05:17.357 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:05:17.360 DEBUG 4500 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:05:17.408 ERROR 4500 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$d6c2c93.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:07:14.899  INFO 11132 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 11132 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:07:14.901 DEBUG 11132 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:07:14.902  INFO 11132 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:07:15.043  INFO 11132 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:07:15.044  INFO 11132 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:07:15.992  INFO 11132 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:07:16.017  INFO 11132 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2019-10-13 18:07:16.395  INFO 11132 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$41614b0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:07:17.010  INFO 11132 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:07:17.050  INFO 11132 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:07:17.051  INFO 11132 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:07:17.206  INFO 11132 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:07:17.207  INFO 11132 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2163 ms
2019-10-13 18:07:18.447  INFO 11132 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:07:18.848  INFO 11132 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:07:18.895  INFO 11132 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:07:18.900  INFO 11132 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.617 seconds (JVM running for 5.714)
2019-10-13 18:07:21.026  INFO 11132 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:07:21.027  INFO 11132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:07:21.040  INFO 11132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2019-10-13 18:07:21.088  INFO 11132 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@4addc085]}
2019-10-13 18:07:21.290  INFO 11132 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:07:21.296 DEBUG 11132 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:07:21.418 DEBUG 11132 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:07:21.449 DEBUG 11132 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:07:21.453  INFO 11132 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:07:23.153  INFO 11132 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@4addc085]}
2019-10-13 18:07:23.158 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:07:23.162 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:07:23.167 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:07:23.169 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:07:23.173 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:07:23.177 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:07:23.180 DEBUG 11132 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?' AND studentID = ? and recordTime > 0; 
2019-10-13 18:07:23.246 ERROR 11132 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?'
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?'         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?'
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?'
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '?' AND date_format(date, '%Y-%m-%d') < '?'
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$16c216bf.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:08:05.494  INFO 8664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8664 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:08:05.497 DEBUG 8664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:08:05.498  INFO 8664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:08:05.607  INFO 8664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:08:05.608  INFO 8664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:08:06.406  INFO 8664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:08:06.423  INFO 8664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 18:08:06.834  INFO 8664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3c58cb54] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:08:07.436  INFO 8664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:08:07.472  INFO 8664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:08:07.473  INFO 8664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:08:07.609  INFO 8664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:08:07.609  INFO 8664 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2001 ms
2019-10-13 18:08:08.879  INFO 8664 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:08:09.287  INFO 8664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:08:09.336  INFO 8664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:08:09.339  INFO 8664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.442 seconds (JVM running for 5.528)
2019-10-13 18:08:11.318  INFO 8664 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:08:11.318  INFO 8664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:08:11.329  INFO 8664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2019-10-13 18:08:11.364  INFO 8664 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@a555948]}
2019-10-13 18:08:11.559  INFO 8664 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:08:11.563 DEBUG 8664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:08:11.663 DEBUG 8664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:08:11.687 DEBUG 8664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:08:11.691  INFO 8664 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:08:13.506  INFO 8664 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@a555948]}
2019-10-13 18:08:13.510 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:08:13.512 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:08:13.515 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:08:13.516 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:08:13.526 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:08:13.528 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:08:13.542 DEBUG 8664 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14' AND studentID = ? and recordTime > 0; 
2019-10-13 18:08:13.588 ERROR 8664 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14'
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14'         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14'
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14'
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= '2019-09-30' AND date_format(date, '%Y-%m-%d') < '2019-10-14'
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$2374ffa.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:12:54.873  INFO 6092 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 6092 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:12:54.879 DEBUG 6092 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:12:54.880  INFO 6092 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:12:55.044  INFO 6092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:12:55.045  INFO 6092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:12:56.019  INFO 6092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:12:56.045  INFO 6092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 0 repository interfaces.
2019-10-13 18:12:56.526  INFO 6092 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c9b52363] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:12:57.062  INFO 6092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:12:57.085  INFO 6092 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:12:57.086  INFO 6092 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:12:57.185  INFO 6092 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:12:57.186  INFO 6092 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2141 ms
2019-10-13 18:12:58.147  INFO 6092 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:12:58.509  INFO 6092 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:12:58.555  INFO 6092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:12:58.558  INFO 6092 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.381 seconds (JVM running for 5.507)
2019-10-13 18:13:21.880  INFO 6092 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:13:21.880  INFO 6092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:13:21.891  INFO 6092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2019-10-13 18:13:21.926  INFO 6092 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@17b85b8c]}
2019-10-13 18:13:22.157  INFO 6092 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:13:22.164 DEBUG 6092 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:13:22.280 DEBUG 6092 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:13:22.303 DEBUG 6092 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:13:22.308  INFO 6092 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:13:24.187  INFO 6092 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@17b85b8c]}
2019-10-13 18:13:24.192 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:13:24.195 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:13:24.198 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:13:24.199 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:13:24.206 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:13:24.208 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:13:24.214 DEBUG 6092 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:13:24.267 ERROR 6092 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:284)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:426)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:83)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:785)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:251)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:929)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:342)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:349)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$8d9ab51b.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:16:35.726  INFO 4508 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 4508 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:16:35.728 DEBUG 4508 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:16:35.729  INFO 4508 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:16:35.831  INFO 4508 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:16:35.832  INFO 4508 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:16:36.697  INFO 4508 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:16:36.715  INFO 4508 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 18:16:37.075  INFO 4508 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d58f914a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:16:37.777  INFO 4508 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:16:37.811  INFO 4508 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:16:37.812  INFO 4508 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:16:37.922  INFO 4508 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:16:37.923  INFO 4508 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2091 ms
2019-10-13 18:16:38.991  INFO 4508 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:16:39.453  INFO 4508 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:16:39.510  INFO 4508 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:16:39.513  INFO 4508 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.36 seconds (JVM running for 5.622)
2019-10-13 18:16:42.048  INFO 4508 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:16:42.049  INFO 4508 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:16:42.062  INFO 4508 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2019-10-13 18:16:42.101  INFO 4508 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@789063a]}
2019-10-13 18:16:42.324  INFO 4508 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:16:42.329 DEBUG 4508 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:16:42.447 DEBUG 4508 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:16:42.477 DEBUG 4508 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:16:42.480  INFO 4508 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:16:44.617  INFO 4508 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@789063a]}
2019-10-13 18:16:44.623 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:16:44.626 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:16:44.629 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:16:44.630 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:16:44.637 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:16:44.640 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:16:44.642 DEBUG 4508 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:16:44.691 ERROR 4508 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$b0a6de80.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:19:05.101  INFO 3664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 3664 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:19:05.103 DEBUG 3664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:19:05.104  INFO 3664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:19:05.212  INFO 3664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:19:05.212  INFO 3664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:19:06.102  INFO 3664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:19:06.128  INFO 3664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2019-10-13 18:19:06.530  INFO 3664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$89ce29a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:19:07.273  INFO 3664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:19:07.338  INFO 3664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:19:07.339  INFO 3664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:19:07.508  INFO 3664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:19:07.510  INFO 3664 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2298 ms
2019-10-13 18:19:08.602  INFO 3664 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:19:09.025  INFO 3664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:19:09.078  INFO 3664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:19:09.081  INFO 3664 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.558 seconds (JVM running for 5.67)
2019-10-13 18:19:21.568  INFO 3664 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:19:21.569  INFO 3664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:19:21.585  INFO 3664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2019-10-13 18:19:21.625  INFO 3664 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@9565a1d]}
2019-10-13 18:19:21.836  INFO 3664 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:19:21.841 DEBUG 3664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:19:21.943 DEBUG 3664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:19:21.966 DEBUG 3664 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:19:21.972  INFO 3664 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:19:23.808  INFO 3664 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@9565a1d]}
2019-10-13 18:19:23.812 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:19:23.817 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:19:23.823 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:19:23.825 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:19:23.830 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:19:23.834 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:19:23.837 DEBUG 3664 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:19:23.887 ERROR 3664 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ?         AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$2ce282a4.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:21:06.354  INFO 8520 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8520 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:21:06.358 DEBUG 8520 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:21:06.359  INFO 8520 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:21:06.505  INFO 8520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:21:06.508  INFO 8520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:21:07.488  INFO 8520 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:21:07.511  INFO 8520 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 0 repository interfaces.
2019-10-13 18:21:07.973  INFO 8520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8f79132a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:21:08.488  INFO 8520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:21:08.513  INFO 8520 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:21:08.513  INFO 8520 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:21:08.625  INFO 8520 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:21:08.625  INFO 8520 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2116 ms
2019-10-13 18:21:09.510  INFO 8520 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:21:09.863  INFO 8520 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:21:09.918  INFO 8520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:21:09.922  INFO 8520 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.145 seconds (JVM running for 5.19)
2019-10-13 18:21:12.995  INFO 8520 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:21:12.995  INFO 8520 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:21:13.009  INFO 8520 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 18:21:13.041  INFO 8520 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@759d0134]}
2019-10-13 18:21:13.228  INFO 8520 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:21:13.232 DEBUG 8520 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:21:13.340 DEBUG 8520 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:21:13.362 DEBUG 8520 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:21:13.366  INFO 8520 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:21:15.619  INFO 8520 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@759d0134]}
2019-10-13 18:21:15.625 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:21:15.626 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:21:15.629 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:21:15.631 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:21:15.639 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:21:15.642 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:21:15.644 DEBUG 8520 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:21:15.694 ERROR 8520 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ?         AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$b015b6d3.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 18:23:50.037  INFO 7180 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 7180 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 18:23:50.042 DEBUG 7180 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 18:23:50.044  INFO 7180 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 18:23:50.174  INFO 7180 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 18:23:50.175  INFO 7180 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 18:23:51.407  INFO 7180 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 18:23:51.433  INFO 7180 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 0 repository interfaces.
2019-10-13 18:23:51.902  INFO 7180 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$45c2da4f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 18:23:52.553  INFO 7180 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 18:23:52.589  INFO 7180 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 18:23:52.589  INFO 7180 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 18:23:52.713  INFO 7180 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 18:23:52.714  INFO 7180 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2539 ms
2019-10-13 18:23:53.497  INFO 7180 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 18:23:53.866  INFO 7180 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 18:23:53.929  INFO 7180 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 18:23:53.933  INFO 7180 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.575 seconds (JVM running for 5.661)
2019-10-13 18:23:55.978  INFO 7180 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 18:23:55.979  INFO 7180 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 18:23:55.993  INFO 7180 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 18:23:56.026  INFO 7180 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@736952ea]}
2019-10-13 18:23:56.220  INFO 7180 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 18:23:56.225 DEBUG 7180 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 18:23:56.329 DEBUG 7180 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 18:23:56.354 DEBUG 7180 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 18:23:56.357  INFO 7180 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 18:23:58.074  INFO 7180 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@736952ea]}
2019-10-13 18:23:58.077 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 18:23:58.079 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 18:23:58.082 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 18:23:58.084 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 18:23:58.090 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 18:23:58.092 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 18:23:58.094 DEBUG 7180 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') AS ONE >= ? AND date_format(date, '%Y-%m-%d') AS TWO < ? AND studentID = ? and recordTime > 0; 
2019-10-13 18:23:58.146 ERROR 7180 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') AS ONE >= ?
        AND date_format(date, '%Y-%m-%d') AS TWO  < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') AS ONE >= ?         AND date_format(date, '%Y-%m-%d') AS TWO  < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') AS ONE >= ?
        AND date_format(date, '%Y-%m-%d') AS TWO  < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') AS ONE >= ?
        AND date_format(date, '%Y-%m-%d') AS TWO  < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') AS ONE >= ?
        AND date_format(date, '%Y-%m-%d') AS TWO  < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$886689be.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:47:49.530  INFO 8604 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8604 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:47:49.531 DEBUG 8604 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:47:49.532  INFO 8604 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:47:49.575  INFO 8604 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:47:49.575  INFO 8604 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:47:50.211  INFO 8604 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:47:50.229  INFO 8604 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 19:47:50.575  INFO 8604 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$81062aad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:47:51.052  INFO 8604 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:47:51.075  INFO 8604 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:47:51.075  INFO 8604 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:47:51.151  INFO 8604 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:47:51.151  INFO 8604 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1576 ms
2019-10-13 19:47:51.935  INFO 8604 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:47:52.328  INFO 8604 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:47:52.385  INFO 8604 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:47:52.388  INFO 8604 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.453 seconds (JVM running for 10.249)
2019-10-13 19:47:55.009  INFO 8604 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:47:55.011  INFO 8604 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:47:55.023  INFO 8604 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-10-13 19:47:55.057  INFO 8604 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 19:47:55.304  INFO 8604 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:47:55.309 DEBUG 8604 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:47:55.448 DEBUG 8604 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:47:55.478 DEBUG 8604 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:47:55.485  INFO 8604 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:47:58.455  INFO 8604 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 19:47:58.461 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:47:58.463 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:47:58.466 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:47:58.467 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:47:58.473 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:47:58.475 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:47:58.480 DEBUG 8604 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 19:47:58.534 ERROR 8604 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ?         AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$1556c655.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:49:15.035  INFO 8032 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8032 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:49:15.039 DEBUG 8032 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:49:15.040  INFO 8032 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:49:15.128  INFO 8032 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:49:15.128  INFO 8032 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:49:16.039  INFO 8032 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:49:16.057  INFO 8032 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 19:49:16.388  INFO 8032 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea6bb6d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:49:16.900  INFO 8032 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:49:16.921  INFO 8032 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:49:16.922  INFO 8032 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:49:17.018  INFO 8032 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:49:17.019  INFO 8032 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1891 ms
2019-10-13 19:49:17.891  INFO 8032 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:49:18.247  INFO 8032 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:49:18.302  INFO 8032 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:49:18.305  INFO 8032 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.818 seconds (JVM running for 4.848)
2019-10-13 19:49:22.031  INFO 8032 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:49:22.032  INFO 8032 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:49:22.043  INFO 8032 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2019-10-13 19:49:22.079  INFO 8032 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@a62c797]}
2019-10-13 19:49:22.282  INFO 8032 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:49:22.288 DEBUG 8032 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:49:22.405 DEBUG 8032 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:49:22.429 DEBUG 8032 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:49:22.436  INFO 8032 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:49:24.187  INFO 8032 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@a62c797]}
2019-10-13 19:49:24.191 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:49:24.193 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:49:24.195 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:49:24.196 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:49:24.203 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:49:24.205 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:49:24.206 DEBUG 8032 --- [http-nio-8080-exec-2] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 19:49:24.257 ERROR 8032 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ?         AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$5fa38604.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:49:28.313  INFO 8032 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@a62c797]}
2019-10-13 19:49:28.313 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:49:28.317 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:49:28.320 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:49:28.321 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:49:28.322 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:49:28.323 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:49:28.325 DEBUG 8032 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 19:49:28.326 ERROR 8032 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format(date, '%Y-%m-%d') >= ?         AND date_format(date, '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format(date, '%Y-%m-%d') >= ?
        AND date_format(date, '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format(date, '%Y-%m', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$5fa38604.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:55:38.043  INFO 1536 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 1536 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:55:38.047 DEBUG 1536 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:55:38.047  INFO 1536 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:55:38.223  INFO 1536 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:55:38.224  INFO 1536 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:55:39.102  INFO 1536 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:55:39.118  INFO 1536 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.
2019-10-13 19:55:39.447  INFO 1536 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d4c43d2e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:55:39.939  INFO 1536 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:55:39.965  INFO 1536 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:55:39.966  INFO 1536 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:55:40.063  INFO 1536 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:55:40.063  INFO 1536 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1839 ms
2019-10-13 19:55:41.013  INFO 1536 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:55:41.329  INFO 1536 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:55:41.374  INFO 1536 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:55:41.378  INFO 1536 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.984 seconds (JVM running for 4.993)
2019-10-13 19:55:43.464  INFO 1536 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:55:43.464  INFO 1536 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:55:43.476  INFO 1536 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-10-13 19:55:43.507  INFO 1536 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@77bd727]}
2019-10-13 19:55:43.716  INFO 1536 --- [http-nio-8080-exec-2] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:55:43.722 DEBUG 1536 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:55:43.854 DEBUG 1536 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:55:43.879 DEBUG 1536 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:55:43.883  INFO 1536 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:55:45.593  INFO 1536 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@77bd727]}
2019-10-13 19:55:45.596 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:55:45.597 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:55:45.601 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:55:45.602 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:55:45.609 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:55:45.611 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:55:45.613 DEBUG 1536 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE date_format('date', '%Y-%m-%d') >= ? AND date_format('date', '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0; 
2019-10-13 19:55:45.664 ERROR 1536 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format('date', '%Y-', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format('date', '%Y-%m-%d') >= ?
        AND date_format('date', '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE date_format('date', '%Y-%m-%d') >= ?         AND date_format('date', '%Y-%m-%d') < ?         AND studentID = ? and recordTime > 0;
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format('date', '%Y-', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format('date', '%Y-%m-%d') >= ?
        AND date_format('date', '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE date_format('date', '%Y-', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format('date', '%Y-%m-%d') >= ?
        AND date_format('date', '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE date_format('date', '%Y-', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE date_format('date', '%Y-%m-%d') >= ?
        AND date_format('date', '%Y-%m-%d') < ?
        AND studentID = ? and recordTime > 0;] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE date_format('date', '%Y-', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$bd6cad97.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:56:37.572  INFO 12860 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 12860 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:56:37.579 DEBUG 12860 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:56:37.580  INFO 12860 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:56:37.685  INFO 12860 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:56:37.685  INFO 12860 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:56:38.453  INFO 12860 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:56:38.470  INFO 12860 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 19:56:38.804  INFO 12860 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$47d63ee7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:56:39.298  INFO 12860 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:56:39.319  INFO 12860 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:56:39.319  INFO 12860 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:56:39.432  INFO 12860 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:56:39.433  INFO 12860 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1748 ms
2019-10-13 19:56:40.453  INFO 12860 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:56:40.797  INFO 12860 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:56:40.858  INFO 12860 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:56:40.862  INFO 12860 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.831 seconds (JVM running for 4.855)
2019-10-13 19:56:45.028  INFO 12860 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:56:45.028  INFO 12860 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:56:45.037  INFO 12860 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-10-13 19:56:45.070  INFO 12860 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@3991d5ca]}
2019-10-13 19:56:45.268  INFO 12860 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:56:45.273 DEBUG 12860 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:56:45.380 DEBUG 12860 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:56:45.402 DEBUG 12860 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:56:45.406  INFO 12860 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:56:47.818  INFO 12860 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@3991d5ca]}
2019-10-13 19:56:47.822 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:56:47.823 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:56:47.826 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:56:47.828 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:56:47.837 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:56:47.838 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:56:47.840 DEBUG 12860 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FORM punchrecord WHERE ( date_format('date', '%Y-%m-%d') >= ? ) AND ( date_format('date', '%Y-%m-%d') < ? ) AND ( studentID = ? and recordTime > 0 ); 
2019-10-13 19:56:47.911 ERROR 12860 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE ( date_format('date', '%', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE ( date_format('date', '%Y-%m-%d') >= ? )
        AND ( date_format('date', '%Y-%m-%d') < ? )
        AND ( studentID = ? and recordTime > 0 );
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.getWeekByStudentID
### The error occurred while executing a query
### SQL: SELECT SUM(recordTime)         FORM punchrecord         WHERE ( date_format('date', '%Y-%m-%d') >= ? )         AND ( date_format('date', '%Y-%m-%d') < ? )         AND ( studentID = ? and recordTime > 0 );
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE ( date_format('date', '%', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE ( date_format('date', '%Y-%m-%d') >= ? )
        AND ( date_format('date', '%Y-%m-%d') < ? )
        AND ( studentID = ? and recordTime > 0 );
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     WHERE ( date_format('date', '%', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE ( date_format('date', '%Y-%m-%d') >= ? )
        AND ( date_format('date', '%Y-%m-%d') < ? )
        AND ( studentID = ? and recordTime > 0 );; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     WHERE ( date_format('date', '%', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null : SELECT SUM(recordTime)
        FORM punchrecord
        WHERE ( date_format('date', '%Y-%m-%d') >= ? )
        AND ( date_format('date', '%Y-%m-%d') < ? )
        AND ( studentID = ? and recordTime > 0 );] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     WHERE ( date_format('date', '%', expect IDENTIFIER, actual IDENTIFIER pos 47, line 2, column 26, token IDENTIFIER null
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.getWeekByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:57)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$bebafa6c.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:57:28.444  INFO 12768 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 12768 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:57:28.450 DEBUG 12768 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:57:28.451  INFO 12768 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:57:28.563  INFO 12768 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:57:28.564  INFO 12768 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:57:29.579  INFO 12768 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:57:29.597  INFO 12768 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-10-13 19:57:29.949  INFO 12768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3a4352ac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:57:30.480  INFO 12768 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:57:30.502  INFO 12768 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:57:30.502  INFO 12768 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:57:30.586  INFO 12768 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:57:30.586  INFO 12768 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2022 ms
2019-10-13 19:57:31.691  INFO 12768 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:57:32.111  INFO 12768 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:57:32.157  INFO 12768 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:57:32.160  INFO 12768 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.374 seconds (JVM running for 5.464)
2019-10-13 19:57:33.733  INFO 12768 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:57:33.733  INFO 12768 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:57:33.746  INFO 12768 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2019-10-13 19:57:33.789  INFO 12768 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@455e3704]}
2019-10-13 19:57:34.015  INFO 12768 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:57:34.020 DEBUG 12768 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:57:34.131 DEBUG 12768 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:57:34.161 DEBUG 12768 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:57:34.165  INFO 12768 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:57:35.989  INFO 12768 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@455e3704]}
2019-10-13 19:57:35.994 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:57:35.996 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:57:35.998 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:57:36.000 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:57:36.008 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:57:36.009 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:57:36.012 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE ( date_format('date', '%Y-%m-%d') >= ? ) AND ( date_format('date', '%Y-%m-%d') < ? ) AND ( studentID = ? and recordTime > 0 ); 
2019-10-13 19:57:36.013 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 19:57:36.014 DEBUG 12768 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 19:57:36.025 ERROR 12768 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yrmjhtdjxh.punch.service.Impl.StudentAndPunchRecordServiceImpl.getSort(StudentAndPunchRecordServiceImpl.java:60)
	at com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo(IndexController.java:48)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$fad107fc.getStudentAndPunchInfo(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 19:58:36.314  INFO 8640 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8640 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 19:58:36.317 DEBUG 8640 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 19:58:36.318  INFO 8640 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 19:58:36.450  INFO 8640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 19:58:36.451  INFO 8640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 19:58:37.200  INFO 8640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 19:58:37.218  INFO 8640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 19:58:37.549  INFO 8640 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2524b02f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 19:58:38.033  INFO 8640 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 19:58:38.056  INFO 8640 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 19:58:38.056  INFO 8640 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 19:58:38.150  INFO 8640 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 19:58:38.151  INFO 8640 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1700 ms
2019-10-13 19:58:39.195  INFO 8640 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 19:58:39.504  INFO 8640 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 19:58:39.550  INFO 8640 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 19:58:39.552  INFO 8640 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.834 seconds (JVM running for 4.868)
2019-10-13 19:58:42.305  INFO 8640 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 19:58:42.305  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 19:58:42.318  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2019-10-13 19:58:42.356  INFO 8640 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@46619720]}
2019-10-13 19:58:42.558  INFO 8640 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 19:58:42.568 DEBUG 8640 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 19:58:42.735 DEBUG 8640 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 19:58:42.762 DEBUG 8640 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 19:58:42.767  INFO 8640 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 19:58:44.339  INFO 8640 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@46619720]}
2019-10-13 19:58:44.343 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 19:58:44.346 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 19:58:44.350 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 19:58:44.351 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 19:58:44.357 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 19:58:44.359 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 19:58:44.361 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 19:58:44.364 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 19:58:44.366 DEBUG 8640 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 19:58:44.367  INFO 8640 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false)]}
2019-10-13 20:02:01.301  INFO 14240 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 14240 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 20:02:01.305 DEBUG 14240 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 20:02:01.306  INFO 14240 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 20:02:01.422  INFO 14240 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 20:02:01.422  INFO 14240 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 20:02:02.189  INFO 14240 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 20:02:02.209  INFO 14240 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-10-13 20:02:02.543  INFO 14240 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e5a22c92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 20:02:03.010  INFO 14240 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 20:02:03.031  INFO 14240 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 20:02:03.031  INFO 14240 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 20:02:03.126  INFO 14240 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 20:02:03.126  INFO 14240 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1704 ms
2019-10-13 20:02:04.071  INFO 14240 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 20:02:04.505  INFO 14240 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 20:02:04.564  INFO 14240 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 20:02:04.567  INFO 14240 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.872 seconds (JVM running for 5.137)
2019-10-13 20:02:07.506  INFO 14240 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 20:02:07.506  INFO 14240 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 20:02:07.515  INFO 14240 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-10-13 20:02:07.545  INFO 14240 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@423e381]}
2019-10-13 20:02:07.547  INFO 14240 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=当前登录状态异常，请重新登录}
2019-10-13 20:03:23.003  INFO 4376 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 4376 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 20:03:23.005 DEBUG 4376 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 20:03:23.006  INFO 4376 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 20:03:23.084  INFO 4376 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 20:03:23.085  INFO 4376 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 20:03:23.826  INFO 4376 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 20:03:23.845  INFO 4376 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 20:03:24.228  INFO 4376 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f897135d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 20:03:24.680  INFO 4376 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 20:03:24.700  INFO 4376 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 20:03:24.700  INFO 4376 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 20:03:24.774  INFO 4376 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 20:03:24.774  INFO 4376 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1689 ms
2019-10-13 20:03:25.524  INFO 4376 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 20:03:25.850  INFO 4376 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 20:03:25.896  INFO 4376 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 20:03:25.899  INFO 4376 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.697 seconds (JVM running for 5.263)
2019-10-13 20:03:28.155  INFO 4376 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 20:03:28.155  INFO 4376 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 20:03:28.169  INFO 4376 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 20:03:28.201  INFO 4376 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@659a7dac]}
2019-10-13 20:03:28.204  INFO 4376 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=当前登录状态异常，请重新登录, status=fail}
2019-10-13 20:03:48.480  INFO 4376 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@659a7dac]}
2019-10-13 20:03:48.702  INFO 4376 --- [http-nio-8080-exec-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 20:03:48.710 DEBUG 4376 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 20:03:48.822 DEBUG 4376 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 20:03:48.849 DEBUG 4376 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 20:03:48.853  INFO 4376 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 20:03:50.607  INFO 4376 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@659a7dac]}
2019-10-13 20:03:50.609 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 20:03:50.612 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 20:03:50.616 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 1
2019-10-13 20:03:50.617 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:03:50.625 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 20:03:50.627 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:03:50.629 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:03:50.631 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 20:03:50.632 DEBUG 4376 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:03:50.633  INFO 4376 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false)], status=success}
2019-10-13 20:06:49.336  INFO 4376 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@659a7dac]}
2019-10-13 20:06:49.345 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 20:06:49.346 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 20:06:49.352 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 20:06:49.353 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:06:49.354 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 20:06:49.355 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:06:49.357 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:06:49.357 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 20:06:49.359 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:06:49.360 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:06:49.361 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 20:06:49.362 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:06:49.364 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:06:49.364 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 20:06:49.365 DEBUG 4376 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:06:49.366  INFO 4376 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认女头像, name=王彬玉, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false), IndexStudent(avatar=默认男头像, name=曾中杰, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false)], status=success}
2019-10-13 20:07:36.836  INFO 8608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8608 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 20:07:36.839 DEBUG 8608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 20:07:36.839  INFO 8608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 20:07:36.963  INFO 8608 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 20:07:36.964  INFO 8608 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 20:07:37.757  INFO 8608 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 20:07:37.772  INFO 8608 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.
2019-10-13 20:07:38.055  INFO 8608 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dde8e678] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 20:07:38.521  INFO 8608 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 20:07:38.548  INFO 8608 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 20:07:38.549  INFO 8608 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 20:07:38.674  INFO 8608 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 20:07:38.674  INFO 8608 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1710 ms
2019-10-13 20:07:39.824  INFO 8608 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 20:07:40.305  INFO 8608 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 20:07:40.364  INFO 8608 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 20:07:40.366  INFO 8608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.23 seconds (JVM running for 5.583)
2019-10-13 20:07:47.714  INFO 8608 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 20:07:47.715  INFO 8608 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 20:07:47.725  INFO 8608 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-10-13 20:07:47.758  INFO 8608 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@6fce132c]}
2019-10-13 20:07:47.956  INFO 8608 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 20:07:47.962 DEBUG 8608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 20:07:48.076 DEBUG 8608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 20:07:48.105 DEBUG 8608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 20:07:48.113  INFO 8608 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 20:07:49.965  INFO 8608 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@6fce132c]}
2019-10-13 20:07:49.970 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 20:07:49.972 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 20:07:49.977 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 20:07:49.979 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:07:49.983 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 20:07:49.985 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:07:49.987 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:07:49.988 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 20:07:49.989 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:07:49.989 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:07:49.990 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 20:07:49.991 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:07:49.993 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:07:49.994 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 20:07:49.996 DEBUG 8608 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:07:49.996  INFO 8608 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 20:41:09.830  INFO 13452 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 13452 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 20:41:09.834 DEBUG 13452 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 20:41:09.835  INFO 13452 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 20:41:09.956  INFO 13452 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 20:41:09.957  INFO 13452 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 20:41:11.543  INFO 13452 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 20:41:11.581  INFO 13452 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29ms. Found 0 repository interfaces.
2019-10-13 20:41:12.197  INFO 13452 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5ca6a3e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 20:41:12.820  INFO 13452 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 20:41:12.843  INFO 13452 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 20:41:12.844  INFO 13452 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 20:41:12.962  INFO 13452 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 20:41:12.962  INFO 13452 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3005 ms
2019-10-13 20:41:14.128  INFO 13452 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 20:41:14.536  INFO 13452 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 20:41:14.581  INFO 13452 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 20:41:14.583  INFO 13452 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 5.451 seconds (JVM running for 6.813)
2019-10-13 20:41:40.762  INFO 13452 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 20:41:40.762  INFO 13452 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 20:41:40.779  INFO 13452 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2019-10-13 20:41:40.804  WARN 13452 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'studentID' is not present]
2019-10-13 20:42:06.158  INFO 13452 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2821d751]}
2019-10-13 20:42:06.160  INFO 13452 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 20:42:13.185  INFO 13452 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@2821d751]}
2019-10-13 20:42:13.397  INFO 13452 --- [http-nio-8080-exec-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 20:42:13.402 DEBUG 13452 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 20:42:13.506 DEBUG 13452 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 20:42:13.529 DEBUG 13452 --- [http-nio-8080-exec-4] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 20:42:13.534  INFO 13452 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 20:42:19.066  INFO 13452 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2821d751]}
2019-10-13 20:42:19.068 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 20:42:19.070 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 20:42:19.074 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 20:42:19.075 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:42:19.082 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 20:42:19.084 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:42:19.086 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:42:19.088 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 20:42:19.089 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:42:19.089 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 20:42:19.089 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 20:42:19.090 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 20:42:19.091 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 20:42:19.092 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 20:42:19.093 DEBUG 13452 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 20:42:19.094  INFO 13452 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=true), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 20:42:24.520  INFO 13452 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2821d751]}
2019-10-13 20:42:24.520 DEBUG 13452 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = 1 where studentID = ? 
2019-10-13 20:42:24.526 DEBUG 13452 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 201731062517(Long)
2019-10-13 20:42:24.530 DEBUG 13452 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 20:42:24.537 ERROR 13452 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.insert] with root cause

org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.insert
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:235)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:61)
	at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)
	at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:61)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:56)
	at com.sun.proxy.$Proxy76.insert(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.PunchRecordServiceImpl.insert(PunchRecordServiceImpl.java:17)
	at com.yrmjhtdjxh.punch.web.IndexController.startPunch(IndexController.java:86)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$ad1f4aea.startPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 20:43:29.202  INFO 12608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 12608 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 20:43:29.206 DEBUG 12608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 20:43:29.207  INFO 12608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 20:43:29.336  INFO 12608 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 20:43:29.337  INFO 12608 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 20:43:30.029  INFO 12608 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 20:43:30.043  INFO 12608 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 0 repository interfaces.
2019-10-13 20:43:30.328  INFO 12608 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$556de28b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 20:43:30.758  INFO 12608 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 20:43:30.776  INFO 12608 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 20:43:30.776  INFO 12608 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 20:43:30.878  INFO 12608 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 20:43:30.878  INFO 12608 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1541 ms
2019-10-13 20:43:31.913  INFO 12608 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 20:43:32.488  INFO 12608 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 20:43:32.545  INFO 12608 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 20:43:32.549  INFO 12608 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.989 seconds (JVM running for 5.615)
2019-10-13 20:43:35.554  INFO 12608 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 20:43:35.555  INFO 12608 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 20:43:35.565  INFO 12608 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-10-13 20:43:35.599  INFO 12608 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@53a39150]}
2019-10-13 20:43:35.833  INFO 12608 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 20:43:35.841 DEBUG 12608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 20:43:35.953 DEBUG 12608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 20:43:35.999 DEBUG 12608 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 20:43:36.007  INFO 12608 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 20:43:38.348  INFO 12608 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@53a39150]}
2019-10-13 20:43:38.351 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = 1 where studentID = ? 
2019-10-13 20:43:38.361 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 201731062517(Long)
2019-10-13 20:43:38.367 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 20:43:38.367 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 20:43:38.377 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 20:43:38.367(Timestamp), 2019-10-13 20:43:38.367(Timestamp), 0.0(Double), 2019-10-13 20:43:38.367(Timestamp)
2019-10-13 20:43:38.381 DEBUG 12608 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 20:43:38.381  INFO 12608 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:03:10.461  INFO 8392 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 8392 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:03:10.467 DEBUG 8392 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:03:10.468  INFO 8392 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:03:10.699  INFO 8392 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:03:10.699  INFO 8392 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:03:11.968  INFO 8392 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:03:12.011  INFO 8392 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37ms. Found 0 repository interfaces.
2019-10-13 21:03:12.563  INFO 8392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$43c70e4d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:03:13.070  INFO 8392 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:03:13.094  INFO 8392 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:03:13.094  INFO 8392 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:03:13.195  INFO 8392 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:03:13.195  INFO 8392 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2496 ms
2019-10-13 21:03:14.060  INFO 8392 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:03:14.479  INFO 8392 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:03:14.540  INFO 8392 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:03:14.544  INFO 8392 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.937 seconds (JVM running for 6.389)
2019-10-13 21:13:19.249  INFO 9760 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 9760 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:13:19.253 DEBUG 9760 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:13:19.254  INFO 9760 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:13:19.369  INFO 9760 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:13:19.370  INFO 9760 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:13:20.105  INFO 9760 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:13:20.118  INFO 9760 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 0 repository interfaces.
2019-10-13 21:13:20.372  INFO 9760 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e0ffc22c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:13:20.764  INFO 9760 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:13:20.788  INFO 9760 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:13:20.788  INFO 9760 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:13:20.883  INFO 9760 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:13:20.883  INFO 9760 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1513 ms
2019-10-13 21:13:21.873  INFO 9760 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:13:22.292  INFO 9760 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:13:22.365  INFO 9760 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:13:22.367  INFO 9760 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.678 seconds (JVM running for 4.871)
2019-10-13 21:13:29.303  INFO 9760 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:13:29.304  INFO 9760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:13:29.315  INFO 9760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2019-10-13 21:13:29.349  INFO 9760 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@1f612386]}
2019-10-13 21:13:29.568  INFO 9760 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:13:29.574 DEBUG 9760 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:13:29.686 DEBUG 9760 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:13:29.716 DEBUG 9760 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:13:29.722  INFO 9760 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:13:49.271  INFO 9760 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@1f612386]}
2019-10-13 21:13:49.276 DEBUG 9760 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:13:49.300 ERROR 9760 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:79)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:94)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:64)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:87)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.updatePunchByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentServiceImpl.changePunch(StudentServiceImpl.java:32)
	at com.yrmjhtdjxh.punch.web.IndexController.startPunch(IndexController.java:82)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$ba7d8e76.startPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:14:14.413  INFO 9760 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@1f612386]}
2019-10-13 21:14:14.414 DEBUG 9760 --- [http-nio-8080-exec-6] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:14:14.414 DEBUG 9760 --- [http-nio-8080-exec-6] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:14:14.417 DEBUG 9760 --- [http-nio-8080-exec-6] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:14:14.418  INFO 9760 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:14:16.818  INFO 9760 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@1f612386]}
2019-10-13 21:14:16.818 DEBUG 9760 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:14:16.821 ERROR 9760 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:79)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:94)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:64)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:87)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.updatePunchByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentServiceImpl.changePunch(StudentServiceImpl.java:32)
	at com.yrmjhtdjxh.punch.web.IndexController.startPunch(IndexController.java:82)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$ba7d8e76.startPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:16:06.304  INFO 13868 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 13868 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:16:06.306 DEBUG 13868 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:16:06.308  INFO 13868 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:16:06.447  INFO 13868 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:16:06.449  INFO 13868 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:16:07.108  INFO 13868 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:16:07.127  INFO 13868 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 21:16:07.476  INFO 13868 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4a731dfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:16:07.936  INFO 13868 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:16:07.962  INFO 13868 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:16:07.963  INFO 13868 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:16:08.067  INFO 13868 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:16:08.068  INFO 13868 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1618 ms
2019-10-13 21:16:08.925  INFO 13868 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:16:09.285  INFO 13868 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:16:09.325  INFO 13868 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:16:09.327  INFO 13868 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.564 seconds (JVM running for 4.542)
2019-10-13 21:16:12.479  INFO 13868 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:16:12.479  INFO 13868 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:16:12.493  INFO 13868 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-10-13 21:16:12.534  INFO 13868 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@27f33d45]}
2019-10-13 21:16:12.748  INFO 13868 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:16:12.753 DEBUG 13868 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:16:12.854 DEBUG 13868 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:16:12.880 DEBUG 13868 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:16:12.884  INFO 13868 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:16:15.018  INFO 13868 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@27f33d45]}
2019-10-13 21:16:15.022 DEBUG 13868 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:16:15.044 ERROR 13868 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'student' not found. Available parameters are [studentID, punchStatus, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:79)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:94)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:64)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:87)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy77.updatePunchByStudentID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.StudentServiceImpl.changePunch(StudentServiceImpl.java:32)
	at com.yrmjhtdjxh.punch.web.IndexController.startPunch(IndexController.java:82)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$ccbfd47c.startPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:17:00.430  INFO 12884 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 12884 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:17:00.439 DEBUG 12884 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:17:00.440  INFO 12884 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:17:00.601  INFO 12884 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:17:00.602  INFO 12884 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:17:01.732  INFO 12884 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:17:01.758  INFO 12884 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2019-10-13 21:17:02.188  INFO 12884 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8b9f5754] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:17:02.710  INFO 12884 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:17:02.730  INFO 12884 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:17:02.730  INFO 12884 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:17:02.803  INFO 12884 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:17:02.803  INFO 12884 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2201 ms
2019-10-13 21:17:03.600  INFO 12884 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:17:03.957  INFO 12884 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:17:04.006  INFO 12884 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:17:04.007  INFO 12884 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.2 seconds (JVM running for 5.365)
2019-10-13 21:17:07.447  INFO 12884 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:17:07.447  INFO 12884 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:17:07.457  INFO 12884 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-10-13 21:17:07.490  INFO 12884 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@42214cd3]}
2019-10-13 21:17:07.672  INFO 12884 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:17:07.676 DEBUG 12884 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:17:07.804 DEBUG 12884 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:17:07.833 DEBUG 12884 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:17:07.838  INFO 12884 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:17:09.635  INFO 12884 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@42214cd3]}
2019-10-13 21:17:09.639 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:17:09.645 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:17:09.647 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:17:09.649 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:17:09.657 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:17:09.648(Timestamp), 2019-10-13 21:17:09.648(Timestamp), 0.0(Double), 2019-10-13 21:17:09.648(Timestamp)
2019-10-13 21:17:09.660 DEBUG 12884 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:17:09.660  INFO 12884 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:19:25.317  INFO 12884 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@42214cd3]}
2019-10-13 21:19:25.324 DEBUG 12884 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:19:25.327 DEBUG 12884 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:19:25.332 DEBUG 12884 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 2
2019-10-13 21:19:25.347 ERROR 12884 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 2] with root cause

org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 2
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:80)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy76.getUnfinishPunchByStudnetID(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.PunchRecordServiceImpl.getUnfinishPunchByStudnetID(PunchRecordServiceImpl.java:22)
	at com.yrmjhtdjxh.punch.web.IndexController.endPunch(IndexController.java:111)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$9a31d2b8.endPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:20:16.735  INFO 12884 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@42214cd3]}
2019-10-13 21:20:16.735 DEBUG 12884 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:20:16.736 DEBUG 12884 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:20:16.738 DEBUG 12884 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:20:16.739 DEBUG 12884 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0; AND endPunchTime = ? 
2019-10-13 21:20:16.784 ERROR 12884 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.endPunchRecord
### The error occurred while executing an update
### SQL: UPDATE  punchrecord         SET endPunchTime = ?,recordTime = ?         WHERE studentID = ?         AND recordTime = 0;         AND endPunchTime = ?
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy76.endPunchRecord(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.PunchRecordServiceImpl.endRecordTime(PunchRecordServiceImpl.java:27)
	at com.yrmjhtdjxh.punch.web.IndexController.endPunch(IndexController.java:118)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$9a31d2b8.endPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:20:25.429  INFO 12884 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@42214cd3]}
2019-10-13 21:20:25.430 DEBUG 12884 --- [http-nio-8080-exec-1] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:20:25.431 DEBUG 12884 --- [http-nio-8080-exec-1] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:20:25.433 DEBUG 12884 --- [http-nio-8080-exec-1] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:20:25.434 DEBUG 12884 --- [http-nio-8080-exec-1] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0; AND endPunchTime = ? 
2019-10-13 21:20:25.435 ERROR 12884 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?
### The error may exist in file [F:\ideaTest\punch\target\classes\mapper\PunchRecordMapper.xml]
### The error may involve com.yrmjhtdjxh.punch.mapper.PunchRecordMapper.endPunchRecord
### The error occurred while executing an update
### SQL: UPDATE  punchrecord         SET endPunchTime = ?,recordTime = ?         WHERE studentID = ?         AND recordTime = 0;         AND endPunchTime = ?
### Cause: java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?
; uncategorized SQLException; SQL state [null]; error code [0]; sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?; nested exception is java.sql.SQLException: sql injection violation, syntax error: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND : UPDATE  punchrecord
        SET endPunchTime = ?,recordTime = ?
        WHERE studentID = ?
        AND recordTime = 0;
        AND endPunchTime = ?] with root cause

com.alibaba.druid.sql.parser.ParserException: syntax error, error in :'     AND endPunchTime = ?', expect AND, actual AND pos 131, line 4, column 29, token AND
	at com.alibaba.druid.sql.parser.SQLParser.printError(SQLParser.java:287)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:532)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:182)
	at com.alibaba.druid.wall.WallProvider.checkInternal(WallProvider.java:624)
	at com.alibaba.druid.wall.WallProvider.check(WallProvider.java:578)
	at com.alibaba.druid.wall.WallFilter.checkInternal(WallFilter.java:793)
	at com.alibaba.druid.wall.WallFilter.connection_prepareStatement(WallFilter.java:259)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.filter.FilterAdapter.connection_prepareStatement(FilterAdapter.java:930)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:122)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:568)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:341)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:350)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:55)
	at com.sun.proxy.$Proxy96.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:86)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy75.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy76.endPunchRecord(Unknown Source)
	at com.yrmjhtdjxh.punch.service.Impl.PunchRecordServiceImpl.endRecordTime(PunchRecordServiceImpl.java:27)
	at com.yrmjhtdjxh.punch.web.IndexController.endPunch(IndexController.java:118)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$9a31d2b8.endPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 21:22:35.416  INFO 3256 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 3256 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:22:35.421 DEBUG 3256 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:22:35.422  INFO 3256 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:22:35.611  INFO 3256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:22:35.611  INFO 3256 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:22:36.858  INFO 3256 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:22:36.888  INFO 3256 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2019-10-13 21:22:37.565  INFO 3256 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bcdb4681] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:22:38.056  INFO 3256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:22:38.075  INFO 3256 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:22:38.076  INFO 3256 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:22:38.175  INFO 3256 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:22:38.175  INFO 3256 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2564 ms
2019-10-13 21:22:39.166  INFO 3256 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:22:39.517  INFO 3256 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:22:39.563  INFO 3256 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:22:39.566  INFO 3256 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.833 seconds (JVM running for 6.179)
2019-10-13 21:22:42.998  INFO 3256 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:22:42.998  INFO 3256 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:22:43.013  INFO 3256 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-10-13 21:22:43.068  INFO 3256 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 21:22:43.262  INFO 3256 --- [http-nio-8080-exec-2] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:22:43.267 DEBUG 3256 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:22:43.392 DEBUG 3256 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:22:43.421 DEBUG 3256 --- [http-nio-8080-exec-2] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:22:43.426  INFO 3256 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:22:46.203  INFO 3256 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 21:22:46.208 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:22:46.212 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:22:46.216 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:22:46.218 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:22:46.225 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:22:46.227 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:22:46.229 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:22:46.230 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:22:46.231 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:22:46.232 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:22:46.232 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:22:46.233 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:22:46.233 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:22:46.234 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:22:46.235 DEBUG 3256 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:22:46.236  INFO 3256 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=true), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:22:53.100  INFO 3256 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 21:22:53.101 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:22:53.109 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:22:53.112 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:22:53.113 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:22:53.124 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:22:53.112(Timestamp), 2019-10-13 21:22:53.112(Timestamp), 0.0(Double), 2019-10-13 21:22:53.112(Timestamp)
2019-10-13 21:22:53.126 DEBUG 3256 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:22:53.127  INFO 3256 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:23:36.139  INFO 3256 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 21:23:36.139 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:23:36.140 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:23:36.142 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:23:36.142 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:23:36.144 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:23:36.142(Timestamp), -1.0119838888888888(Double), 201731062517(Long), 2019-10-13 20:22:53.0(Timestamp)
2019-10-13 21:23:36.148 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : <==    Updates: 0
2019-10-13 21:23:36.149 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:23:36.149 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:23:36.153 DEBUG 3256 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:23:36.153  INFO 3256 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:25:16.253  INFO 2128 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 2128 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:25:16.258 DEBUG 2128 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:25:16.259  INFO 2128 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:25:16.311  INFO 2128 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:25:16.312  INFO 2128 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:25:17.061  INFO 2128 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:25:17.079  INFO 2128 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 21:25:17.416  INFO 2128 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4f1c61ac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:25:17.896  INFO 2128 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:25:17.918  INFO 2128 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:25:17.918  INFO 2128 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:25:17.995  INFO 2128 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:25:17.995  INFO 2128 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1683 ms
2019-10-13 21:25:18.873  INFO 2128 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:25:19.211  INFO 2128 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:25:19.257  INFO 2128 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:25:19.259  INFO 2128 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.928 seconds (JVM running for 5.589)
2019-10-13 21:25:28.582  INFO 2128 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:25:28.582  INFO 2128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:25:28.598  INFO 2128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2019-10-13 21:25:28.641  INFO 2128 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:25:28.892  INFO 2128 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:25:28.898 DEBUG 2128 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:25:29.023 DEBUG 2128 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:25:29.047 DEBUG 2128 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:25:29.051  INFO 2128 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:25:30.818  INFO 2128 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:25:30.824 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:25:30.831 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:25:30.835 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:25:30.838 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:25:30.846 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:25:30.837(Timestamp), 2019-10-13 21:25:30.837(Timestamp), 0.0(Double), 2019-10-13 21:25:30.837(Timestamp)
2019-10-13 21:25:30.848 DEBUG 2128 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:25:30.849  INFO 2128 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:25:37.126  INFO 2128 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:25:37.127 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:25:37.129 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:25:37.131 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:25:37.132 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:25:37.137 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:25:37.131(Timestamp), -0.0017030555555555555(Double), 201731062517(Long), 2019-10-13 21:25:31.0(Timestamp)
2019-10-13 21:25:37.139 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 21:25:37.139 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:25:37.140 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:25:37.143 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:25:37.143  INFO 2128 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:25:57.589  INFO 2128 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:25:57.590 DEBUG 2128 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:25:57.590 DEBUG 2128 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:25:57.592 DEBUG 2128 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:25:57.592  INFO 2128 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:25:59.381  INFO 2128 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:25:59.383 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:25:59.383 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:25:59.387 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:25:59.389 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:25:59.394 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:25:59.396 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:25:59.401 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:25:59.403 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:25:59.404 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:25:59.407 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:25:59.407 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:25:59.408 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:25:59.409 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:25:59.409 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:25:59.411 DEBUG 2128 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:25:59.412  INFO 2128 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:26:01.324  INFO 2128 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:26:01.324 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:26:01.325 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:26:01.326 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:26:01.326 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:26:01.327 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:26:01.326(Timestamp), 2019-10-13 21:26:01.326(Timestamp), 0.0(Double), 2019-10-13 21:26:01.326(Timestamp)
2019-10-13 21:26:01.329 DEBUG 2128 --- [http-nio-8080-exec-2] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:26:01.330  INFO 2128 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:26:32.891  INFO 2128 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@47b23bd5]}
2019-10-13 21:26:32.891 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:26:32.892 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:26:32.895 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:26:32.897 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:26:32.898 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:26:32.896(Timestamp), -1.00886(Double), 201731062517(Long), 2019-10-13 20:26:01.0(Timestamp)
2019-10-13 21:26:32.900 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.P.endPunchRecord                 : <==    Updates: 0
2019-10-13 21:26:32.901 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:26:32.901 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:26:32.904 DEBUG 2128 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:26:32.904  INFO 2128 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:27:16.264  INFO 10496 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 10496 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:27:16.267 DEBUG 10496 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:27:16.267  INFO 10496 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:27:16.421  INFO 10496 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:27:16.422  INFO 10496 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:27:17.160  INFO 10496 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:27:17.175  INFO 10496 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.
2019-10-13 21:27:17.515  INFO 10496 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ffbe2f9c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:27:17.955  INFO 10496 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:27:17.974  INFO 10496 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:27:17.974  INFO 10496 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:27:18.070  INFO 10496 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:27:18.071  INFO 10496 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1648 ms
2019-10-13 21:27:19.211  INFO 10496 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:27:19.682  INFO 10496 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:27:19.739  INFO 10496 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:27:19.742  INFO 10496 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.078 seconds (JVM running for 5.199)
2019-10-13 21:27:27.462  INFO 10496 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:27:27.463  INFO 10496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:27:27.485  INFO 10496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 22 ms
2019-10-13 21:27:27.518  INFO 10496 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:27:27.715  INFO 10496 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:27:27.720 DEBUG 10496 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:27:27.833 DEBUG 10496 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:27:27.859 DEBUG 10496 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:27:27.865  INFO 10496 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:27:29.446  INFO 10496 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:27:29.449 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:27:29.451 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:27:29.457 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:27:29.459 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:27:29.463 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:27:29.465 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:27:29.467 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:27:29.468 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:27:29.469 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:27:29.471 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:27:29.472 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:27:29.473 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:27:29.475 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:27:29.475 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:27:29.476 DEBUG 10496 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:27:29.477  INFO 10496 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=4.7, todayTime=3.5, weekLeftTime=23.3, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:27:40.747  INFO 10496 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:27:40.748 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:27:40.755 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:27:40.757 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:27:40.758 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:27:40.768 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:27:40.758(Timestamp), 2019-10-13 21:27:40.758(Timestamp), 0.0(Double), 2019-10-13 21:27:40.758(Timestamp)
2019-10-13 21:27:40.772 DEBUG 10496 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:27:40.773  INFO 10496 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:27:43.519  INFO 10496 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:27:43.519 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:27:43.521 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:27:43.523 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:27:43.525 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:27:43.527 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:27:43.524(Timestamp), 7.011111111111111E-4(Double), 201731062517(Long), 2019-10-13 21:27:41.0(Timestamp)
2019-10-13 21:27:43.529 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 21:27:43.530 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:27:43.531 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:27:43.534 DEBUG 10496 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:27:43.535  INFO 10496 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:27:55.375  INFO 10496 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:27:55.375 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:27:55.376 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:27:55.378 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:27:55.379 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:27:55.379 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:27:55.379(Timestamp), 2019-10-13 21:27:55.379(Timestamp), 0.0(Double), 2019-10-13 21:27:55.379(Timestamp)
2019-10-13 21:27:55.382 DEBUG 10496 --- [http-nio-8080-exec-1] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:27:55.382  INFO 10496 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:28:11.935  INFO 10496 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@38539523]}
2019-10-13 21:28:11.935 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:28:11.936 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:28:11.940 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:28:11.941 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:28:11.942 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:28:11.941(Timestamp), 1.0047058333333334(Double), 201731062517(Long), 2019-10-13 20:27:55.0(Timestamp)
2019-10-13 21:28:11.943 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : <==    Updates: 0
2019-10-13 21:28:11.944 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:28:11.945 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:28:11.948 DEBUG 10496 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:28:11.949  INFO 10496 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:32:32.997  INFO 13692 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 13692 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:32:33.004 DEBUG 13692 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:32:33.006  INFO 13692 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:32:33.103  INFO 13692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:32:33.103  INFO 13692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:32:33.827  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:32:33.845  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-10-13 21:32:34.104  INFO 13692 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$556de28b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:32:34.568  INFO 13692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:32:34.590  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:32:34.591  INFO 13692 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:32:34.690  INFO 13692 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:32:34.691  INFO 13692 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1588 ms
2019-10-13 21:32:35.712  INFO 13692 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:32:36.133  INFO 13692 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:32:36.187  INFO 13692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:32:36.190  INFO 13692 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.814 seconds (JVM running for 5.302)
2019-10-13 21:32:43.568  INFO 13692 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:32:43.568  INFO 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:32:43.577  INFO 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-10-13 21:32:43.609  INFO 13692 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@52a4b6b7]}
2019-10-13 21:32:43.826  INFO 13692 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:32:43.834 DEBUG 13692 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:32:43.962 DEBUG 13692 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:32:43.992 DEBUG 13692 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:32:43.996  INFO 13692 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:32:56.088  INFO 13692 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@52a4b6b7]}
2019-10-13 21:32:56.091 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:32:56.100 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:32:56.103 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:32:56.104 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:32:56.116 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:32:56.104(Timestamp), 2019-10-13 21:32:56.104(Timestamp), 0.0(Double), 2019-10-13 21:32:56.104(Timestamp)
2019-10-13 21:32:56.118 DEBUG 13692 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:32:56.118  INFO 13692 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:33:07.186  INFO 13692 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@52a4b6b7]}
2019-10-13 21:33:07.188 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:33:07.191 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:33:07.194 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:33:07.195 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 
2019-10-13 21:33:07.197 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:33:07.194(Timestamp), 1.01(Double), 201731062517(Long)
2019-10-13 21:33:07.200 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 21:33:07.201 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:33:07.201 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:33:07.204 DEBUG 13692 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:33:07.204  INFO 13692 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:33:23.645  INFO 13692 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@52a4b6b7]}
2019-10-13 21:33:23.647 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:33:23.648 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:33:23.651 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:33:23.652 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:33:23.657 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:33:23.660 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:33:23.664 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:33:23.666 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:33:23.668 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:33:23.669 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:33:23.669 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:33:23.670 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:33:23.671 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:33:23.671 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:33:23.672 DEBUG 13692 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:33:23.672  INFO 13692 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.71, todayTime=4.51, weekLeftTime=22.29, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:34:53.322  INFO 1196 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 1196 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:34:53.325 DEBUG 1196 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:34:53.326  INFO 1196 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:34:53.457  INFO 1196 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:34:53.457  INFO 1196 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:34:54.283  INFO 1196 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:34:54.299  INFO 1196 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 21:34:54.563  INFO 1196 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$381c629d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:34:54.932  INFO 1196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:34:54.948  INFO 1196 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:34:54.948  INFO 1196 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:34:55.024  INFO 1196 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:34:55.024  INFO 1196 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1566 ms
2019-10-13 21:34:55.806  INFO 1196 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:34:56.132  INFO 1196 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:34:56.174  INFO 1196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:34:56.177  INFO 1196 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.574 seconds (JVM running for 4.972)
2019-10-13 21:37:37.970  INFO 1196 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:37:37.971  INFO 1196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:37:37.982  INFO 1196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2019-10-13 21:37:38.016  INFO 1196 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:37:38.211  INFO 1196 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:37:38.216 DEBUG 1196 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:37:38.316 DEBUG 1196 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:37:38.338 DEBUG 1196 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:37:38.342  INFO 1196 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:37:52.187  INFO 1196 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:37:52.190 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:37:52.192 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:37:52.197 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:37:52.199 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:37:52.204 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:37:52.205 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:37:52.209 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:37:52.211 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:37:52.212 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:37:52.212 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:37:52.213 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:37:52.213 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:37:52.214 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:37:52.215 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:37:52.215 DEBUG 1196 --- [http-nio-8080-exec-4] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:37:52.216  INFO 1196 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.71, todayTime=4.51, weekLeftTime=22.29, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:37:58.668  INFO 1196 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:37:58.669 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:37:58.676 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:37:58.679 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:37:58.680 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:37:58.688 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:37:58.679(Timestamp), 2019-10-13 21:37:58.679(Timestamp), 0.0(Double), 2019-10-13 21:37:58.679(Timestamp)
2019-10-13 21:37:58.691 DEBUG 1196 --- [http-nio-8080-exec-6] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:37:58.692  INFO 1196 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:38:19.702  INFO 1196 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:38:19.702 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:38:19.703 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:38:19.707 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:38:19.708 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:38:19.710 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:38:19.707(Timestamp), 0.01(Double), 201731062517(Long), 2019-10-13 21:37:59.0(Timestamp)
2019-10-13 21:38:19.713 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 21:38:19.714 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:38:19.715 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:38:19.717 DEBUG 1196 --- [http-nio-8080-exec-9] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:38:19.718  INFO 1196 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:43:49.372  INFO 1196 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:43:49.377 DEBUG 1196 --- [http-nio-8080-exec-3] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:43:49.378 DEBUG 1196 --- [http-nio-8080-exec-3] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:43:49.383 DEBUG 1196 --- [http-nio-8080-exec-3] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:43:49.384  INFO 1196 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:43:52.908  INFO 1196 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:43:52.909 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:43:52.909 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:43:52.912 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:43:52.912 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:43:52.914 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:43:52.912(Timestamp), 2019-10-13 21:43:52.912(Timestamp), 0.0(Double), 2019-10-13 21:43:52.912(Timestamp)
2019-10-13 21:43:52.916 DEBUG 1196 --- [http-nio-8080-exec-5] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:43:52.916  INFO 1196 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:43:54.619  INFO 1196 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:43:54.620 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:43:54.620 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:43:54.622 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:43:54.623 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:43:54.624 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:43:54.626 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:43:54.628 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:43:54.629 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:43:54.630 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:43:54.631 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:43:54.631 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:43:54.632 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:43:54.634 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:43:54.634 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:43:54.635 DEBUG 1196 --- [http-nio-8080-exec-7] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:43:54.636  INFO 1196 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.72, todayTime=4.52, weekLeftTime=22.28, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:44:00.486  INFO 1196 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@1588b1c9]}
2019-10-13 21:44:00.487 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:44:00.487 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:44:00.490 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:44:00.491 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:44:00.492 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:44:00.493 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:44:00.494 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:44:00.495 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:44:00.498 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:44:00.500 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:44:00.500 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:44:00.502 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:44:00.503 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:44:00.503 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:44:00.504 DEBUG 1196 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:44:00.505  INFO 1196 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=null, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.72, todayTime=4.52, weekLeftTime=22.28, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:47:26.358  INFO 5412 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 5412 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:47:26.363 DEBUG 5412 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:47:26.363  INFO 5412 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:47:26.445  INFO 5412 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:47:26.462  INFO 5412 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:47:27.368  INFO 5412 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:47:27.386  INFO 5412 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2019-10-13 21:47:27.942  INFO 5412 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$27c96347] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:47:28.537  INFO 5412 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:47:28.559  INFO 5412 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:47:28.559  INFO 5412 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:47:28.666  INFO 5412 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:47:28.667  INFO 5412 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2205 ms
2019-10-13 21:47:29.471  INFO 5412 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:47:29.808  INFO 5412 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:47:29.866  INFO 5412 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:47:29.869  INFO 5412 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.19 seconds (JVM running for 5.38)
2019-10-13 21:47:32.197  INFO 5412 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:47:32.197  INFO 5412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:47:32.209  INFO 5412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-10-13 21:47:32.243  INFO 5412 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@45ac96fa]}
2019-10-13 21:47:32.460  INFO 5412 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:47:32.464 DEBUG 5412 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:47:32.584 DEBUG 5412 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:47:32.612 DEBUG 5412 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:47:32.619  INFO 5412 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:47:45.657  INFO 5412 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@45ac96fa]}
2019-10-13 21:47:45.666 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:47:45.675 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 21:47:45.679 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:47:45.679 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 21:47:45.689 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 21:47:45.679(Timestamp), 2019-10-13 21:47:45.679(Timestamp), 0.0(Double), 2019-10-13 21:47:45.679(Timestamp)
2019-10-13 21:47:45.691 DEBUG 5412 --- [http-nio-8080-exec-4] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 21:47:45.691  INFO 5412 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:47:47.490  INFO 5412 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@45ac96fa]}
2019-10-13 21:47:47.492 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 21:47:47.494 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 21:47:47.497 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 21:47:47.500 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:47:47.501 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:47:47.505 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:47:47.506 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:47:47.509 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:47:47.511 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:47:47.512 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:47:47.514 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:47:47.516 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:47:47.517 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:47:47.519 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:47:47.520 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:47:47.521 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:47:47.522 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:47:47.523 DEBUG 5412 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:47:47.524  INFO 5412 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=true), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.72, todayTime=4.52, weekLeftTime=22.28, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:47:54.324  INFO 5412 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@45ac96fa]}
2019-10-13 21:47:54.324 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 21:47:54.325 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 21:47:54.327 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 21:47:54.329 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 21:47:54.330 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 21:47:54.328(Timestamp), 0.01(Double), 201731062517(Long), 2019-10-13 21:47:46.0(Timestamp)
2019-10-13 21:47:54.333 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 21:47:54.334 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 21:47:54.334 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 21:47:54.337 DEBUG 5412 --- [http-nio-8080-exec-8] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 21:47:54.337  INFO 5412 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:47:56.342  INFO 5412 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@45ac96fa]}
2019-10-13 21:47:56.342 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 21:47:56.343 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 21:47:56.345 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 21:47:56.346 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:47:56.346 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:47:56.350 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:47:56.352 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:47:56.353 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:47:56.354 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:47:56.357 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:47:56.358 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:47:56.360 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:47:56.361 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:47:56.361 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:47:56.362 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:47:56.363 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:47:56.363 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:47:56.366 DEBUG 5412 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:47:56.367  INFO 5412 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.7299999999999995, todayTime=4.529999999999999, weekLeftTime=22.27, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 21:53:28.341  INFO 12652 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 12652 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 21:53:28.348 DEBUG 12652 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 21:53:28.349  INFO 12652 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 21:53:28.461  INFO 12652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 21:53:28.461  INFO 12652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 21:53:29.494  INFO 12652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 21:53:29.519  INFO 12652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 0 repository interfaces.
2019-10-13 21:53:29.914  INFO 12652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aa6b4840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 21:53:30.406  INFO 12652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 21:53:30.430  INFO 12652 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 21:53:30.430  INFO 12652 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 21:53:30.527  INFO 12652 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 21:53:30.527  INFO 12652 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2066 ms
2019-10-13 21:53:31.534  INFO 12652 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 21:53:32.015  INFO 12652 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 21:53:32.098  INFO 12652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 21:53:32.103  INFO 12652 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.546 seconds (JVM running for 5.905)
2019-10-13 21:53:34.300  INFO 12652 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 21:53:34.300  INFO 12652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 21:53:34.320  INFO 12652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2019-10-13 21:53:34.386  INFO 12652 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@2a394b9f]}
2019-10-13 21:53:34.670  INFO 12652 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 21:53:34.678 DEBUG 12652 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 21:53:34.816 DEBUG 12652 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 21:53:34.849 DEBUG 12652 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 21:53:34.853  INFO 12652 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 21:53:36.831  INFO 12652 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@2a394b9f]}
2019-10-13 21:53:36.837 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 21:53:36.839 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 21:53:36.844 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 21:53:36.846 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 21:53:36.848 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 21:53:36.852 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 21:53:36.853 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:53:36.863 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 21:53:36.865 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:53:36.869 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:53:36.873 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 21:53:36.875 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:53:36.876 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 21:53:36.877 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 21:53:36.878 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 21:53:36.880 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 21:53:36.880 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 21:53:36.882 DEBUG 12652 --- [http-nio-8080-exec-3] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 21:53:36.883  INFO 12652 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.73, todayTime=4.53, weekLeftTime=22.27, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:03:27.849  INFO 4088 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 4088 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 22:03:27.875 DEBUG 4088 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 22:03:27.876  INFO 4088 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 22:03:28.158  INFO 4088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 22:03:28.159  INFO 4088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 22:03:29.114  INFO 4088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 22:03:29.133  INFO 4088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.
2019-10-13 22:03:29.583  INFO 4088 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e07cd7f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 22:03:30.176  INFO 4088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 22:03:30.198  INFO 4088 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 22:03:30.199  INFO 4088 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 22:03:30.314  INFO 4088 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 22:03:30.314  INFO 4088 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2155 ms
2019-10-13 22:03:31.392  INFO 4088 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 22:03:31.803  INFO 4088 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 22:03:31.853  INFO 4088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 22:03:31.856  INFO 4088 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.822 seconds (JVM running for 6.086)
2019-10-13 22:03:34.556  INFO 4088 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 22:03:34.556  INFO 4088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 22:03:34.571  INFO 4088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-10-13 22:03:34.611  INFO 4088 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:34.919  INFO 4088 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 22:03:34.926 DEBUG 4088 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 22:03:35.107 DEBUG 4088 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 22:03:35.144 DEBUG 4088 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 22:03:35.153  INFO 4088 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:03:38.506  INFO 4088 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:38.508 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 22:03:38.518 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 22:03:38.521 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 22:03:38.522 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 22:03:38.530 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 22:03:38.521(Timestamp), 2019-10-13 22:03:38.521(Timestamp), 0.0(Double), 2019-10-13 22:03:38.521(Timestamp)
2019-10-13 22:03:38.533 DEBUG 4088 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 22:03:38.533  INFO 4088 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:03:39.338  INFO 4088 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:39.338  INFO 4088 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:03:41.093  INFO 4088 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:41.094  INFO 4088 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:03:41.822  INFO 4088 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:41.822  INFO 4088 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:03:44.093  INFO 4088 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:44.095 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:03:44.096 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:44.099 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:03:44.101 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:03:44.102 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:03:44.104 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:03:44.105 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:03:44.112 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:44.115 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:03:44.117 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:03:44.118 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:03:44.119 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:03:44.120 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:03:44.120 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:03:44.121 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:03:44.122 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:03:44.123 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:03:44.124 DEBUG 4088 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:03:44.125  INFO 4088 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=true), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.73, todayTime=4.53, weekLeftTime=22.27, isPunch=true), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:03:50.023  INFO 4088 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:50.024 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 22:03:50.025 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:50.027 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 22:03:50.029 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 22:03:50.031 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 22:03:50.028(Timestamp), 0.01(Double), 201731062517(Long), 2019-10-13 22:03:39.0(Timestamp)
2019-10-13 22:03:50.034 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 22:03:50.034 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 22:03:50.035 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 22:03:50.038 DEBUG 4088 --- [http-nio-8080-exec-4] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 22:03:50.038  INFO 4088 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:03:52.633  INFO 4088 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:52.633 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:03:52.634 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:52.636 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:03:52.637 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:03:52.637 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:03:52.641 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:03:52.642 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:03:52.642 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:52.645 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:03:52.647 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:03:52.648 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:03:52.649 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:03:52.651 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:03:52.652 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:03:52.653 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:03:52.654 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:03:52.655 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:03:52.656 DEBUG 4088 --- [http-nio-8080-exec-6] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:03:52.656  INFO 4088 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.74, todayTime=4.54, weekLeftTime=22.26, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:03:55.111  INFO 4088 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@2d84b4e7]}
2019-10-13 22:03:55.112 DEBUG 4088 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 22:03:55.112 DEBUG 4088 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 22:03:55.114 DEBUG 4088 --- [http-nio-8080-exec-8] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 0
2019-10-13 22:03:55.123 ERROR 4088 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yrmjhtdjxh.punch.web.IndexController.endPunch(IndexController.java:117)
	at com.yrmjhtdjxh.punch.web.IndexController$$FastClassBySpringCGLIB$$dc657f6b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.yrmjhtdjxh.punch.web.IndexController$$EnhancerBySpringCGLIB$$94f808ff.endPunch(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)

2019-10-13 22:04:35.298  INFO 11148 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 11148 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 22:04:35.301 DEBUG 11148 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 22:04:35.302  INFO 11148 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 22:04:35.432  INFO 11148 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 22:04:35.432  INFO 11148 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 22:04:37.130  INFO 11148 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 22:04:37.166  INFO 11148 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.
2019-10-13 22:04:37.800  INFO 11148 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fa77b7d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 22:04:38.414  INFO 11148 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 22:04:38.443  INFO 11148 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 22:04:38.443  INFO 11148 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 22:04:38.577  INFO 11148 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 22:04:38.577  INFO 11148 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3145 ms
2019-10-13 22:04:39.476  INFO 11148 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 22:04:39.906  INFO 11148 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 22:04:39.962  INFO 11148 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 22:04:39.965  INFO 11148 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 5.397 seconds (JVM running for 7.278)
2019-10-13 22:04:43.319  INFO 11148 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 22:04:43.319  INFO 11148 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 22:04:43.334  INFO 11148 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-10-13 22:04:43.388  INFO 11148 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:43.661  INFO 11148 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 22:04:43.667 DEBUG 11148 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 22:04:43.842 DEBUG 11148 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 22:04:43.874 DEBUG 11148 --- [http-nio-8080-exec-1] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 22:04:43.879  INFO 11148 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:04:49.533  INFO 11148 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:49.540 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 22:04:49.548 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 1(Integer), 201731062517(Long)
2019-10-13 22:04:49.551 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 22:04:49.552 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==>  Preparing: INSERT INTO punchrecord (id, studentID, beginPunchTime, endPunchTime, recordTime, date) VALUES (?, ?, ?, ?, ?, ?); 
2019-10-13 22:04:49.563 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : ==> Parameters: 0(Integer), 201731062517(Long), 2019-10-13 22:04:49.551(Timestamp), 2019-10-13 22:04:49.551(Timestamp), 0.0(Double), 2019-10-13 22:04:49.551(Timestamp)
2019-10-13 22:04:49.565 DEBUG 11148 --- [http-nio-8080-exec-3] c.y.p.mapper.PunchRecordMapper.insert    : <==    Updates: 1
2019-10-13 22:04:49.565  INFO 11148 --- [http-nio-8080-exec-3] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:04:50.350  INFO 11148 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/startPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.startPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:50.350  INFO 11148 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:04:52.431  INFO 11148 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:52.432 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==>  Preparing: SELECT * FROM punchrecord WHERE studentID = ? AND recordTime = 0; 
2019-10-13 22:04:52.434 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : ==> Parameters: 201731062517(Long)
2019-10-13 22:04:52.437 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.getUnfinishPunchByStudnetID    : <==      Total: 1
2019-10-13 22:04:52.439 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : ==>  Preparing: UPDATE punchrecord SET endPunchTime = ?,recordTime = ? WHERE studentID = ? AND recordTime = 0 AND endPunchTime = ?; 
2019-10-13 22:04:52.441 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : ==> Parameters: 2019-10-13 22:04:52.438(Timestamp), 0.01(Double), 201731062517(Long), 2019-10-13 22:04:50.0(Timestamp)
2019-10-13 22:04:52.444 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.P.endPunchRecord                 : <==    Updates: 1
2019-10-13 22:04:52.445 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : ==>  Preparing: UPDATE students SET isPunch = ? where studentID = ? 
2019-10-13 22:04:52.445 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : ==> Parameters: 0(Integer), 201731062517(Long)
2019-10-13 22:04:52.448 DEBUG 11148 --- [http-nio-8080-exec-7] c.y.p.m.S.updatePunchByStudentID         : <==    Updates: 1
2019-10-13 22:04:52.448  INFO 11148 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:04:53.207  INFO 11148 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:53.207  INFO 11148 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:04:54.030  INFO 11148 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/endPunch', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.endPunch', args=[201731062517, org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:04:54.030  INFO 11148 --- [http-nio-8080-exec-2] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:05:26.673  INFO 11148 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@40abcf55]}
2019-10-13 22:05:26.674 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:05:26.675 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:05:26.677 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:05:26.678 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:05:26.679 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:05:26.683 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:05:26.684 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:05:26.689 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:05:26.690 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:05:26.693 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:05:26.695 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:05:26.696 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:05:26.697 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:05:26.697 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:05:26.700 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:05:26.702 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:05:26.702 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:05:26.703 DEBUG 11148 --- [http-nio-8080-exec-5] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:05:26.704  INFO 11148 --- [http-nio-8080-exec-5] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=默认男头像, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=默认男头像, name=曾中杰, grade=2017, weekTime=5.75, todayTime=4.55, weekLeftTime=22.25, isPunch=false), IndexStudent(avatar=默认女头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:09:33.775  INFO 13740 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 13740 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 22:09:33.778 DEBUG 13740 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 22:09:33.779  INFO 13740 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 22:09:33.910  INFO 13740 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 22:09:33.911  INFO 13740 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 22:09:34.703  INFO 13740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 22:09:34.722  INFO 13740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 22:09:35.092  INFO 13740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fa558ca5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 22:09:35.579  INFO 13740 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 22:09:35.601  INFO 13740 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 22:09:35.602  INFO 13740 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 22:09:35.690  INFO 13740 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 22:09:35.690  INFO 13740 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1779 ms
2019-10-13 22:09:36.415  INFO 13740 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 22:09:36.775  INFO 13740 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 22:09:36.827  INFO 13740 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 22:09:36.829  INFO 13740 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.711 seconds (JVM running for 4.915)
2019-10-13 22:09:53.221  INFO 13740 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 22:09:53.221  INFO 13740 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 22:09:53.236  INFO 13740 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-10-13 22:10:22.341  INFO 11424 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 11424 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 22:10:22.346 DEBUG 11424 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 22:10:22.347  INFO 11424 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 22:10:22.474  INFO 11424 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 22:10:22.475  INFO 11424 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 22:10:23.239  INFO 11424 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 22:10:23.258  INFO 11424 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2019-10-13 22:10:23.586  INFO 11424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$eee95060] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 22:10:24.061  INFO 11424 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 22:10:24.082  INFO 11424 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 22:10:24.083  INFO 11424 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 22:10:24.175  INFO 11424 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 22:10:24.175  INFO 11424 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1700 ms
2019-10-13 22:10:25.019  INFO 11424 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 22:10:25.379  INFO 11424 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 22:10:25.442  INFO 11424 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 22:10:25.445  INFO 11424 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 3.704 seconds (JVM running for 4.732)
2019-10-13 22:11:20.146  INFO 11424 --- [Thread-12] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-10-13 22:11:20.148  INFO 11424 --- [Thread-12] com.alibaba.druid.pool.DruidDataSource   : {dataSource-0} closing ...
2019-10-13 22:11:35.492  INFO 13188 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Starting PunchApplication on etron with PID 13188 (F:\ideaTest\punch\target\classes started by etron in F:\ideaTest\punch)
2019-10-13 22:11:35.495 DEBUG 13188 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-13 22:11:35.496  INFO 13188 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : No active profile set, falling back to default profiles: default
2019-10-13 22:11:35.627  INFO 13188 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-10-13 22:11:35.628  INFO 13188 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-10-13 22:11:36.289  INFO 13188 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-10-13 22:11:36.305  INFO 13188 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.
2019-10-13 22:11:36.635  INFO 13188 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$82ffbe62] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-10-13 22:11:37.138  INFO 13188 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-10-13 22:11:37.159  INFO 13188 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-10-13 22:11:37.160  INFO 13188 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.26]
2019-10-13 22:11:37.237  INFO 13188 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-10-13 22:11:37.237  INFO 13188 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1609 ms
2019-10-13 22:11:38.489  INFO 13188 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-10-13 22:11:38.963  INFO 13188 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-10-13 22:11:39.038  INFO 13188 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-10-13 22:11:39.042  INFO 13188 --- [restartedMain] com.yrmjhtdjxh.punch.PunchApplication    : Started PunchApplication in 4.527 seconds (JVM running for 7.286)
2019-10-13 22:11:42.220  INFO 13188 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-10-13 22:11:42.221  INFO 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-10-13 22:11:42.231  INFO 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-10-13 22:13:29.576  INFO 13188 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@4adaf003]}
2019-10-13 22:13:29.580  INFO 13188 --- [http-nio-8080-exec-6] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:13:32.162  INFO 13188 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@4adaf003]}
2019-10-13 22:13:32.350  INFO 13188 --- [http-nio-8080-exec-8] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-10-13 22:13:32.356 DEBUG 13188 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 22:13:32.485 DEBUG 13188 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 22:13:32.509 DEBUG 13188 --- [http-nio-8080-exec-8] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 22:13:32.512  INFO 13188 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:13:33.615  INFO 13188 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@4adaf003]}
2019-10-13 22:13:33.616 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:13:33.617 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:13:33.621 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:13:33.622 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:13:33.625 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:13:33.628 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:13:33.630 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:13:33.636 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:13:33.638 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:13:33.641 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:13:33.643 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:13:33.644 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:13:33.644 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:13:33.644 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:13:33.645 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:13:33.646 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:13:33.647 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:13:33.647 DEBUG 13188 --- [http-nio-8080-exec-10] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:13:33.648  INFO 13188 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=http://localhost:8080/images/boyAvatar.jpg, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=http://localhost:8080/images/boyAvatar.jpg, name=曾中杰, grade=2017, weekTime=5.75, todayTime=4.55, weekLeftTime=22.25, isPunch=false), IndexStudent(avatar=http://localhost:8080/images/girlAvatar.jpg, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:14:20.195  INFO 13188 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@4adaf003]}
2019-10-13 22:14:20.196 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:14:20.196 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:14:20.200 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:14:20.200 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:14:20.200 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:14:20.204 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:14:20.204 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:14:20.205 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:14:20.206 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:14:20.208 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:14:20.209 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:14:20.210 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:14:20.212 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:14:20.212 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:14:20.213 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:14:20.216 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:14:20.216 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:14:20.217 DEBUG 13188 --- [http-nio-8080-exec-8] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:14:20.218  INFO 13188 --- [http-nio-8080-exec-8] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=http://localhost:8080/images/boyAvatar.jpg, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=http://localhost:8080/images/boyAvatar.jpg, name=曾中杰, grade=2017, weekTime=5.75, todayTime=4.55, weekLeftTime=22.25, isPunch=false), IndexStudent(avatar=http://localhost:8080/images/girlAvatar.png, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
2019-10-13 22:42:25.789  INFO 13188 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/register', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.register', args=[Student(id=0, studentID=201731062518, password=123456, name=王彬玉, sex=1, grade=0, photo="", avatar=url, createTime=null, isPunch=false)]}
2019-10-13 22:42:25.795 DEBUG 13188 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.insert    : ==>  Preparing: INSERT INTO students (id, studentID, password, name, sex, grade, photo, avatar, createTime, isPunch) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-10-13 22:42:25.807 DEBUG 13188 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.insert    : ==> Parameters: 0(Integer), 201731062518(Long), 123456(String), 王彬玉(String), 1(Integer), 2017(Integer), 查出对应的照片url(String), 默认男头像(String), 2019-10-13 22:42:25.79(Timestamp), false(Boolean)
2019-10-13 22:42:25.809 DEBUG 13188 --- [http-nio-8080-exec-4] c.y.punch.mapper.StudentMapper.insert    : <==    Updates: 1
2019-10-13 22:42:25.809  INFO 13188 --- [http-nio-8080-exec-4] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:46:42.795  INFO 13188 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@388275b6]}
2019-10-13 22:46:42.802 DEBUG 13188 --- [http-nio-8080-exec-7] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 22:46:42.803 DEBUG 13188 --- [http-nio-8080-exec-7] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 22:46:42.807 DEBUG 13188 --- [http-nio-8080-exec-7] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 22:46:42.808  INFO 13188 --- [http-nio-8080-exec-7] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:50:54.389  INFO 13188 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@553a61f3]}
2019-10-13 22:50:54.389  INFO 13188 --- [http-nio-8080-exec-9] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=fail}
2019-10-13 22:51:00.956  INFO 13188 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/login', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.StudentController.getOne', args=[201731062517, 123456, org.apache.catalina.session.StandardSessionFacade@553a61f3]}
2019-10-13 22:51:00.965 DEBUG 13188 --- [http-nio-8080-exec-10] .p.m.S.findStudentByStudentIDAndPassword : ==>  Preparing: SELECT * FROM students WHERE studentID = ? AND password = ? 
2019-10-13 22:51:00.966 DEBUG 13188 --- [http-nio-8080-exec-10] .p.m.S.findStudentByStudentIDAndPassword : ==> Parameters: 201731062517(Long), 123456(String)
2019-10-13 22:51:00.971 DEBUG 13188 --- [http-nio-8080-exec-10] .p.m.S.findStudentByStudentIDAndPassword : <==      Total: 1
2019-10-13 22:51:00.972  INFO 13188 --- [http-nio-8080-exec-10] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{status=success}
2019-10-13 22:51:02.633  INFO 13188 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result : RequestLog{url='/getStudentAndPunchInfo', ip='0:0:0:0:0:0:0:1', classMethod='com.yrmjhtdjxh.punch.web.IndexController.getStudentAndPunchInfo', args=[org.apache.catalina.session.StandardSessionFacade@553a61f3]}
2019-10-13 22:51:02.636 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==>  Preparing: SELECT * FROM students WHERE studentID = ? 
2019-10-13 22:51:02.636 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : ==> Parameters: 201731062517(Long)
2019-10-13 22:51:02.639 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getOne    : <==      Total: 1
2019-10-13 22:51:02.641 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==>  Preparing: SELECT * FROM students; 
2019-10-13 22:51:02.642 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : ==> Parameters: 
2019-10-13 22:51:02.644 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.punch.mapper.StudentMapper.getAll    : <==      Total: 2
2019-10-13 22:51:02.645 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:51:02.645 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062517(Long)
2019-10-13 22:51:02.647 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:51:02.648 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:51:02.649 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062517(Long)
2019-10-13 22:51:02.650 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:51:02.651 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE studentID = ? AND recordTime > 0 AND date_format(date, '%Y-%m-%d') = date_format(NOW(),'%Y-%m-%d'); 
2019-10-13 22:51:02.651 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : ==> Parameters: 201731062518(Long)
2019-10-13 22:51:02.653 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getTodayByStudentID            : <==      Total: 1
2019-10-13 22:51:02.655 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==>  Preparing: SELECT SUM(recordTime) FROM punchrecord WHERE date_format(date, '%Y-%m-%d') >= ? AND date_format(date, '%Y-%m-%d') < ? AND studentID = ? and recordTime > 0 ; 
2019-10-13 22:51:02.655 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : ==> Parameters: 2019-09-30(String), 2019-10-14(String), 201731062518(Long)
2019-10-13 22:51:02.656 DEBUG 13188 --- [http-nio-8080-exec-1] c.y.p.m.P.getWeekByStudentID             : <==      Total: 1
2019-10-13 22:51:02.657  INFO 13188 --- [http-nio-8080-exec-1] com.yrmjhtdjxh.punch.aspect.LogAspect    : Result:{student=Student(id=16, studentID=201731062517, password=123456, name=曾中杰, sex=1, grade=2017, photo=查出对应的照片url, avatar=http://localhost:8080/images/boyAvatar.jpg, createTime=Tue Oct 08 22:24:12 CST 2019, isPunch=false), indexStudents=[IndexStudent(avatar=http://localhost:8080/images/boyAvatar.jpg, name=曾中杰, grade=2017, weekTime=5.75, todayTime=4.55, weekLeftTime=22.25, isPunch=false), IndexStudent(avatar=默认男头像, name=王彬玉, grade=2017, weekTime=2.8, todayTime=2.8, weekLeftTime=25.2, isPunch=false)], status=success}
